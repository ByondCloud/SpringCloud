## 概念

由于Stream所创建的队列都是持久化的

假如有一天，某个消费者宕机了，在宕机的过程中发送的消息并不能被消费者所收到，这个很正常对吧

但是我们想要的效果是如果消费者重启之后，可以把宕机期间积压在队列中的消息拿来进行消费

这里就一定要设置group，如果没有设置则每次都是随机的队列，并且离开连接就会自动删除

![image-20230414132226717](image/35.Stream%E7%9A%84%E6%8C%81%E4%B9%85%E5%8C%96/image-20230414132226717.png)

这里可以看到，临时队列开启了AD，就是自动删除，当消费者离开这个连接的时候，就会把这个队列删除，会造成消息的丢失

而设置了group的队列，开启了消息的持久化，不会造成消息丢失，但是性能会差一点，这个取决于磁盘的性能